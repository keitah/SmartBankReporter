# üí≥ SmartBankReporter-SBR

üìä **SmartBankReporter-SBR** ‚Äî —ç—Ç–æ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ Java-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.  
–û–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ PostgreSQL, —ç–∫—Å–ø–æ—Ä—Ç –≤ CSV/JSON –∏ —É–¥–æ–±–Ω–æ–µ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –º–µ–Ω—é.
---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ‚ûï –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (DEPOSIT/DEBIT)
- ‚ûñ –£–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- üìú –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- üí∞ –ü–æ–¥—Å—á—ë—Ç —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞
- üì§ –≠–∫—Å–ø–æ—Ä—Ç –≤ **CSV**
- üì§ –≠–∫—Å–ø–æ—Ä—Ç –≤ **JSON**
- üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ **PostgreSQL** (—á–µ—Ä–µ–∑ Docker)

---
## UPDATE 2.1: –ß—Ç–æ –Ω–æ–≤–æ–≥–æ?
1. **–î–æ–±–∞–≤–ª–µ–Ω –∫–ª–∞—Å—Å `Account`** –∏ —Ç–∞–±–ª–∏—Ü–∞ `accounts`.  
2. **–ï–¥–∏–Ω—ã–π DAO (`me.keita.reporter.dao.DAO`)** –≤–º–µ—Å—Ç–æ `TransactionDAO`/`DbDAO`.  
3. **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏**:  
   - `TransactionRepository` (`findById`, `findAllByAccount`, `save`, `deleteById`)  
   - `AccountRepository` (`findByAccountNumber`, `findAll`, `save`, `deleteByAccountNumber`)  
4. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `PreparedStatementComposer`** –¥–ª—è —Å–±–æ—Ä–∫–∏ `PreparedStatement` –ø—Ä–∏ `INSERT/UPDATE`.  
5. **–ú–µ—Ç–æ–¥ `findById`** –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `TransactionRepository` –∏ –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ `BankService`.  
6. **–ú–µ—Ç–æ–¥ `findByAccountNumber`** –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `AccountRepository` –∏ –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ `BankService`.  
7. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ –∞–∫–∫–∞—É–Ω—Ç—É** ‚Äî —Å–ø–∏—Å–æ–∫ –∏ –±–∞–ª–∞–Ω—Å —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.  
8. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –¥–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥-–æ–±—ë—Ä—Ç–∫–∞ `setCurrentAccount` –≤ `BankService` –¥–ª—è —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞.  
9. **–ú–µ–Ω—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–æ**: —Ç–µ–ø–µ—Ä—å –µ—Å—Ç—å –ø—Ä–µ–¥–º–µ–Ω—é –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ –ø—Ä—è–º–æ –∏–∑ –º–µ–Ω—é –±–∞–Ω–∫–∞.  
10. **–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏**: —Ç–µ–ø–µ—Ä—å –≤ –∫–æ–¥–µ –µ—Å—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
11. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –¥–æ–±–∞–≤–ª–µ–Ω –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ "–£–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏" –∏ —Ç.–ø.
12. **–û—Å–º—ã—Å–ª–µ–Ω–Ω–æ—Å—Ç—å**: 
    - –ø—Ä–∏ –≤—ã–≤–æ–¥–µ –ø—É—Å—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞ "–ù–∞–π—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –ø–æ ID" –∏ "–£–¥–∞–ª–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –ø–æ ID" –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ–± —ç—Ç–æ–º —Å–æ–æ–±—â–∞–µ—Ç—Å—è –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–¥–µ–ª–∞—Ç—å —à–∞–≥ –Ω–∞–∑–∞–¥ (—Ä–∞–Ω–µ–µ –æ–∂–∏–¥–∞–ª—Å—è –≤–≤–æ–¥ –≤ Scanner, –Ω–æ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –±—ã–ª–æ)
    - –Ω–µ—Ç –≤—ã–≤–æ–¥–∞ —Å–ø–∏—Å–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ CSV –∏ JSON, –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø—É—Å—Ç (–µ—Å–ª–∏ –±–∞–ª–∞–Ω—Å 0, –Ω–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±—ã–ª–∏, –∫ –ø—Ä–∏–º–µ—Ä—É –µ—Å–ª–∏ –º—ã —É—à–ª–∏ –≤ –Ω—É–ª—å, —Ç–æ –≤—ã–≤–æ–¥ –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç)
    - –∫–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –≤ SQL –∏ —Ö—Ä–∞–Ω–∏—Ç —Ç–∞–º –∞–∫–∫–∞—É–Ω—Ç—ã –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–æ–º –ü–ö, –ø—Ä–∏ –ø–æ–ª–Ω–æ–º –ø–µ—Ä–µ–Ω–æ—Å–µ –ø—Ä–æ–µ–∫—Ç–∞+DOCKER

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- [Docker Desktop](https://www.docker.com/products/docker-desktop/) üê≥
- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) [IntelliJ IDEA Ultimate](https://www.jetbrains.com/idea/) üíª



---

## –ó–∞–ø—É—Å–∫ PostgreSQL –≤ Docker

```bash
docker compose up -d
```
–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ù—É–∂–Ω—ã JDK 21+ –∏ Gradle Wrapper.
```
./gradlew clean run
```
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏. –°–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –º–µ–Ω—é –∞–∫–∫–∞—É–Ω—Ç–æ–≤.

–ü–æ–¥–Ω–∏–º–µ—Ç—Å—è:
- Postgres `smartbank` (user/password: `reporter/reporter`).  
- (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) pgAdmin –Ω–∞ [http://localhost:5050](http://localhost:5050) (–ª–æ–≥–∏–Ω `admin@example.com` / –ø–∞—Ä–æ–ª—å `admin`).  

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º —Å—Ç–∞—Ä—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—Å—è `schema.sql` (—Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—ã `accounts` –∏ `transactions`).  
–ï—Å–ª–∏ pgAdmin –Ω–µ –Ω—É–∂–µ–Ω ‚Äî —Å–µ—Ä–≤–∏—Å –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å –∏–∑ `docker-compose.yml`.

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫:
- `jdbc:postgresql://localhost:5432/smartbank`  
- user: `reporter`  
- password: `reporter`

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å:
```bash
export DB_URL=jdbc:postgresql://localhost:5432/smartbank
export DB_USER=reporter
export DB_PASSWORD=reporter
```

---

## –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ù—É–∂–Ω—ã **JDK 21+** –∏ **Gradle Wrapper**.

```bash
./gradlew clean run
```
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏. –°–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –º–µ–Ω—é –∞–∫–∫–∞—É–Ω—Ç–æ–≤.

(–¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ IntelliJ Idea Ultimate –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:)

```host: localhost```
```port: 5432```
```user: reporter```
```pass: reporter```
```database: smartbank```


---
## üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (–∞–∫–∫–∞—É–Ω—Ç—ã)

```
=== SmartBank Reporter (Accounts) ===
1. –î–æ–±–∞–≤–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç
2. –í—ã–±—Ä–∞—Ç—å/—Å–æ–∑–¥–∞—Ç—å –ø–æ –Ω–æ–º–µ—Ä—É
3. –°–ø–∏—Å–æ–∫ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∏ –≤—ã–±–æ—Ä
4. –í—ã—Ö–æ–¥
```

---

### –ú–µ–Ω—é –±–∞–Ω–∫–∞ (–ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∞–∫–∫–∞—É–Ω—Ç–∞)

```
==== SmartBank (ACC-XXXX) ====
1. –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
2. –î–æ–±–∞–≤–∏—Ç—å –¥–µ–ø–æ–∑–∏—Ç
3. –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥
4. –ë–∞–ª–∞–Ω—Å
5. –≠–∫—Å–ø–æ—Ä—Ç CSV
6. –≠–∫—Å–ø–æ—Ä—Ç JSON
7. –ù–∞–π—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –ø–æ ID
8. –£–¥–∞–ª–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –ø–æ ID
9. –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç
0. –ù–∞–∑–∞–¥
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–æ–≤

```
me.keita.reporter.dao
  ‚îú‚îÄ DAO.java
  ‚îú‚îÄ PreparedStatementComposer.java
  ‚îî‚îÄ ResultSetHandler.java
me.keita.reporter.repository
  ‚îú‚îÄ AccountRepository.java
  ‚îî‚îÄ TransactionRepository.java
me.keita.reporter.model
  ‚îú‚îÄ Account.java
  ‚îú‚îÄ Transaction.java
  ‚îî‚îÄ TransactionType.java
me.keita.reporter.service
  ‚îî‚îÄ BankService.java
me.keita.reporter.console
  ‚îú‚îÄ Console.java        # –ø—Ä–µ–¥–º–µ–Ω—é –∞–∫–∫–∞—É–Ω—Ç–æ–≤
  ‚îî‚îÄ Menu.java           # –º–µ–Ω—é –æ–ø–µ—Ä–∞—Ü–∏–π –≤–Ω—É—Ç—Ä–∏ –∞–∫–∫–∞—É–Ω—Ç–∞
```
